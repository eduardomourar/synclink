"use strict";
var i = Object.defineProperty;
var v = Object.getOwnPropertyDescriptor;
var E = Object.getOwnPropertyNames;
var f = Object.prototype.hasOwnProperty;
var r = (e, t) => i(e, "name", { value: t, configurable: !0 });
var g = (e, t) => {
    for (var o in t) i(e, o, { get: t[o], enumerable: !0 });
  },
  l = (e, t, o, s) => {
    if ((t && typeof t == "object") || typeof t == "function")
      for (let n of E(t))
        !f.call(e, n) &&
          n !== o &&
          i(e, n, {
            get: () => t[n],
            enumerable: !(s = v(t, n)) || s.enumerable,
          });
    return e;
  };
var p = (e) => l(i({}, "__esModule", { value: !0 }), e);
var c = {};
g(c, { default: () => d });
module.exports = p(c);
function d(e) {
  let t = new WeakMap();
  return {
    postMessage: e.postMessage.bind(e),
    addEventListener: (o, s) => {
      let n = r((a) => {
        "handleEvent" in s ? s.handleEvent({ data: a }) : s({ data: a });
      }, "l");
      e.on("message", n), t.set(s, n);
    },
    removeEventListener: (o, s) => {
      let n = t.get(s);
      n && (e.off("message", n), t.delete(s));
    },
    start: e.start && e.start.bind(e),
  };
}
r(d, "nodeEndpoint");
//# sourceMappingURL=node-adapter.min.js.map
